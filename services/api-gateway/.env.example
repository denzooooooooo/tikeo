# ============================================
# TIKE'O - Variables d'environnement Backend
# Copier ce fichier en .env sur le VPS Hetzner
# cp .env.example .env && nano .env
# ============================================

# ---- Serveur ----
NODE_ENV=production
PORT=3001

# ---- Base de données (Supabase) ----
# Récupérer depuis : https://supabase.com/dashboard/project/xxx/settings/database
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:YOUR_SUPABASE_PASSWORD@db.YOUR_PROJECT_REF.supabase.co:5432/postgres

# ---- Redis (Upstash) ----
# Récupérer depuis : https://console.upstash.com/redis
# Format: rediss://default:[PASSWORD]@[ENDPOINT]:6380
REDIS_URL=rediss://default:YOUR_UPSTASH_PASSWORD@YOUR_ENDPOINT.upstash.io:6380

# ---- JWT ----
# Générer avec: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_SECRET_KEY_AT_LEAST_64_CHARS
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=CHANGE_THIS_TO_ANOTHER_VERY_LONG_RANDOM_SECRET_KEY
JWT_REFRESH_EXPIRES_IN=30d

# ---- CORS (URL du frontend Vercel) ----
FRONTEND_URL=https://tikeo.vercel.app
ALLOWED_ORIGINS=https://tikeo.vercel.app,https://www.tikeo.com

# ---- Stripe ----
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PUBLISHABLE_KEY=pk_live_...

# ---- Google OAuth ----
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://api.tikeo.com/api/v1/auth/google/callback

# ---- GitHub OAuth ----
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=https://api.tikeo.com/api/v1/auth/github/callback

# ---- Email (Resend) ----
# Créer un compte sur https://resend.com
RESEND_API_KEY=re_...
EMAIL_FROM=noreply@tikeo.com

# ---- OpenAI (pour les features IA) ----
OPENAI_API_KEY=sk-...

# ---- AWS S3 (pour les uploads) ----
AWS_ACCESS_KEY_ID=...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=eu-west-3
AWS_S3_BUCKET=tikeo-uploads

# ---- Sentry (monitoring erreurs - optionnel) ----
SENTRY_DSN=https://...@sentry.io/...
